# Architectural Drivers

## Технические ограничения

- Требования: язык -- что-то, что я знаю хотя бы на уровне "могу написать базовые структуры данных", не Java, не C++, не Haskell, игра 3D => должен существовать фреймворк 3D рендеринга (но не движок, т.е. не Unity/etc)
- Был выбор между Python и Rust: Python -- мой основной язык, Rust -- язык, которому я хочу научиться
- Выбор сделан в пользу Python, так как Rust не объектно-ориентированный и архитектуру строить сложнее
  - Sorry ~~femboys~~ rustaceans :(
- Panda3D, так как это движок, с которым я долго работал и понимаю его архитектурные решения и проблемы (но в целом на Python больше ничего 3D нормального и нет, насколько я понимаю)

## Бизнес-ограничения

- Время на выполнение задания: 3 недели
  - Так как большая часть оценки -- построение архитектуры, то жертвуем функционалом
- Команда: 1 человек (по задумке), 3 человека (по факту)
  - После начала проекта присоединились ещё два разработчика => можно немного расширить функционал
- Бюджет: 0 рублей :(

## Функциональные требования & Design Document

- 3D игра, "бродилка с мечом"
- Каждый уровень -- лабиринт, заканчивающийся порталом
- Существуют как уровни типа tutorial, которые придуманы изначально, так и случайно генерирующиеся
  - Начиная с какого-то N, скорее всего примерно 3, все случайно генерирующиеся
- У игрока есть инвентарь, предметы M видов, каждого вида только 1 может быть надет, но сколько угодно могут лежать в инвентаре до предела вместимости
  - Вещи можно выбрасывать
  - Вещи сохраняются при переходе на следующий уровень
- В лабиринте спавнятся разные виды мобов -- также могут быть как случайные, так и предетерминированные
  - Начиная с какого-то N, скорее всего примерно 2, все случайные
- Мобы атакуют в радиусе, игрок атакует в радиусе, сущности теряют жизни, когда их атакуют, <= 0 hp -> умирают
  - Некоторые мобы дальнобойные? Некоторые предметы дальнобойные? Не уверен.
- Игрок умирает => игра перезапускается, моб умирает => игрок получает деньги и с малой вероятностью случайный предмет
- После N убийств мобов открывается доступ к магазину и порталу
  - Магазин на каждом этаже случаен и конечен a-la Isaac
- Единственные 2 способа восстановить здоровье игрока -- купить зелье в магазине; пройти через портал

## Нефункциональные требования

- Производительность не очень важна
  - Производительность обычно падает по мере повышения уровня, размера карты и т.п., но это ок -- достаточно высокие уровни скорее всего непроходимые и до проблем с производительностью скорее всего не доходят
  - Но не должно быть утечек памяти
- Расширяемость очень важна
  - Задание по проработке архитектуры => лучший способ проверки архитектуры -- смотреть расширяемость
- Портабельность -- ограничение от клиента, обязательна
  - Движок кроссплатформенный, язык кроссплатформенный => ok
